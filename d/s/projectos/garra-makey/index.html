<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

		<!-- <base href="https://altlab.org/d/" />  -->
		<title>altLab Documenta</title>
				<meta property="og:type" content="article" />
		<meta property="og:title" content=" | altLab Documenta" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://altlab.org/d/s/projectos/garra-makey/" />
		<meta property="og:site_name" content="altLab Documenta" />

		<!-- Bootstrap -->
		<link href="../../../themes/altlab/css/bootstrap.min.css" rel="stylesheet">
		<link href="../../../themes/altlab/override-test.css" rel="stylesheet">
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="../../../themes/altlab/js/jquery-1.12.4.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="../../../themes/altlab/js/bootstrap.min.js"></script>

	</head>
	<body>
<div class="container">
<div class="container-fluid">
      <div class="page-header hidden-xs" id="brand-logo">
        <h1><a href="../../../../index.html"><img src="../../../themes/altlab/altlab-logo-gradoverwhite.png" width="180" height="120" alt="Home" style="vertical-align:text-bottom" /></a> Documenta <span class="glyphicon glyphicon-leaf" style="color:#98ff98; padding-left:5px; top:2.8px;"></span></h1>

      </div>
			<nav class="navbar navbar-inverse">

				<div class="container-fluid">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#myNavbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
<div class="visible-xs">
<a class="navbar-brand" href="../../../../index.html"><img src="../../../themes/altlab/altlab-logo-documenta.png" width="58" height="35" alt="Home" style="margin-top: -7px;"></a>
						<a class="navbar-brand" href="../../../index.html">Documenta <span class="glyphicon glyphicon-leaf" style="color:#98ff98; padding-left:5px; top:2.8px;"></span></a></div>
					</div>
					<div class="collapse navbar-collapse" id="myNavbar">
						<ul class="nav navbar-nav">

           	<li id="dropdown.1" class="dropdown">
		<a class= "dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Membros <span class="caret"></span></a>
  
    <ul class="dropdown-menu">
<li>
<a href="../../../m/index.html">Index</a>
</li>
   
           	<li id="dropdown.101" class="dropdown">
		<a href="../../../m/jpralves/index.html">João Alves <span class="caret"></span></a>
  
      	</li>
            	<li id="dropdown.102" class="dropdown">
		<a href="../../../m/sislog/index.html">Fernando Carvalho <span class="caret"></span></a>
  
      	</li>
            	<li id="dropdown.103" class="dropdown">
		<a href="../../../m/pangelo/index.html">Pedro Ângelo <span class="caret"></span></a>
  
      	</li>
            	<li id="dropdown.104" class="dropdown">
		<a href="../../../m/dinix/index.html">Dinix <span class="caret"></span></a>
  
      	</li>
            	<li>
		<a href="../../../m/funke/funke.html">m/funke/funke</a>
  
   	</li>
            	<li id="dropdown.106" class="dropdown">
		<a href="../../../m/afonsom/index.html">Afonso Muralha <span class="caret"></span></a>
  
      	</li>
            	<li id="dropdown.107" class="dropdown">
		<a href="../../../m/x3msnake/index.html">X3msnake <span class="caret"></span></a>
  
      	</li>
            	<li>
		<a href="../../../m/ampmendes/index.html">António Mendes</a>
  
   	</li>
            	<li>
		<a href="../../../m/guardajoao/index.html">GuardaJoao</a>
  
   	</li>
            	<li>
		<a href="../../../m/jac/index.html">JAC</a>
  
   	</li>
            	<li>
		<a href="../../../m/nini/index.html">Nuno Nini</a>
  
   	</li>
 
</ul>
    	</li>
            	<li id="dropdown.2" class="dropdown">
		<a class= "dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentação Partilhada <span class="caret"></span></a>
  
    <ul class="dropdown-menu">
<li>
<a href="../../index.html">Index</a>
</li>
   
                         	<li id="dropdown.203" class="dropdown">
		<a href="../../workshops/index.html">Workshops <span class="caret"></span></a>
  
      	</li>
                   	<li>
		<a href="../../documenta/index.html">Documenta DevMap</a>
  
   	</li>
                   	<li>
		<a href="../../processos/index.html">Processos do Lab (draft)</a>
  
   	</li>
            	<li id="dropdown.208" class="dropdown">
		<a href="../../recursos/index.html">Recursos <span class="caret"></span></a>
  
      	</li>
 
</ul>
    	</li>
 
						</ul>
					</div>
				</div>
			</nav>

			<div class="container">
				<div class="container">
				<section id="content">
					<div class="inner">
						<h1>A Garra Makey</h1>

<p>Recondicionamento e alteracao de uma maquina de garra, para funcionar com varios controles a partir do arduino</p>

<h3>RECONDICIONAMENTO</h3>

<ul>
<li><strong>Iluminação</strong>: Substituição do balastro flourescente por leds</li>
<li><strong>Estrutura</strong>: Aligeirar a estrutura para facilitar o transporte e montagem mantendo o traço original</li>
<li><p><strong>Hardware Nativo</strong>: Reverse engineering do circuito original de modo a encontrar o ic responsavel pelo temporizador de jogo e aumentar o tempo de controle.</p>

<pre><code>Medidas Máquina

BOX - 1870x810x625 mm
ALTURA AO CHÃO - 100 mm
perfil lateral - 40 mm
perfil lateral - 20x20 mm
</code></pre></li>
</ul>

<h3>Hardware</h3>

<ul>
<li>Emulação do controle original usando relés (Interfacing Hack)</li>
<li>Utilização de CSEduino na maquina como Master que controla o movimento da garra</li>
<li>Utilização de Arduino externo Slave que comunica o arduino Master, responsável pelo envio daas instruções de movimento</li>
</ul>

<h3>Software</h3>

<h4>Protocolo de Comunicação I2C com uma taxa de actualização de 30fps (33ms)</h4>

<p><a href="https://www.arduino.cc/en/Tutorial/MasterReader">https://www.arduino.cc/en/Tutorial/MasterReader</a></p>

<p><a href="http://www.gammon.com.au/i2c">http://www.gammon.com.au/i2c</a></p>

<h4>Metodo de transferência de informação - Boleanas, Bytes &amp; Mascaras</h4>

<p><a href="https://www.arduino.cc/en/Tutorial/BitMask">https://www.arduino.cc/en/Tutorial/BitMask</a></p>

<p><a href="http://playground.arduino.cc/Code/BitMath">http://playground.arduino.cc/Code/BitMath</a></p>

<p><a href="http://www.avrfreaks.net/forum/tut-c-bit-manipulation-aka-programming-101?name=PNphpBB2&amp;file=viewtopic&amp;t=37871]">http://www.avrfreaks.net/forum/tut-c-bit-manipulation-aka-programming-101?name=PNphpBB2&amp;file=viewtopic&amp;t=37871</a></p>

<hr />

<h3>PLANO DE ATAQUE</h3>

<h4>Fase 1</h4>

<ul>
<li>Programar Masterino</li>
<li>Programar Controlino (Template)</li>
<li>Construir Placa Relés</li>
<li>Definir e implementar interface físico entre inos</li>
<li>Testar e validar</li>
<li>Criar biblioteca de comunicação</li>
<li>Disponibilizar biblioteca e lançar desafio à comunidade</li>
</ul>

<h4>Fase 2</h4>

<ul>
<li>Reduzir peso do equipamento</li>
<li>Faze-lo transportável</li>
<li>Redecorar</li>
<li>Produzir toneladas de brindes</li>
<li>Levar A Garra Makey à Maker Faire 2016!</li>
</ul>

<h3>WIP</h3>

<pre><code>// Caracteres de comunicação entre arduinos
//
// - I - Idle (liga led confirma serial on)
// - N - North
// - S - South
// - E - East
// - W - West
// - G - Grab
// - C - Coin
// - Default - OFF


// INSEWGCX &gt; Default Byte &gt; 10000000


// BYTE MASKS
// 
// - I &gt; 10000000
// - N &gt; 01000000
// - S &gt; 00100000
// - E &gt; 00010000
// - W &gt; 00001000
// - G &gt; 00000100
// - C &gt; 00000010
// - X &gt; 00000001

    // INSEWGCX   INSEWGCX
    // -N------ &gt; 01000000
    // -N-E---- &gt; 01010000
    // ---E---- &gt; 00010000
    // --SE---- &gt; 00110000
    // --S----- &gt; 00100000
    // --S-W--- &gt; 00101000
    // ----W--- &gt; 00001000
    // -N--W--- &gt; 01001000

    // -----G-- &gt; 00000100
    // ------C- &gt; 00000010

// Masterino busca um byte ao Controlino via i2c

// Controlino avalia inputs do utilizador e transforma-os numa tabela de verdades - o byte

// Controlino fica à escuta do evento e envia a pedido o byte que estiver na memória no momento da consulta

// Masterino Testa o Byte e activa os pinos, definidos como constantes de acordo com a verdade (0/1) do bit respectivo
</code></pre>

<hr />

<h4>PopUpIdeas</h4>

<p>Bring your own controller
- disponibilizar no website o protocolo e a ficha e lançar o desafio make your onw controller and agarra makey</p>

<h4>ALTERNATIVAS:</h4>

<p>LIGAR ARDUINO - ARDUINO - Via Serial</p>

<p><img src="arduino-arduino-serial.jpg" alt="arduino 2 arduino serial" /></p>

<p><a href="http://robotic-controls.com/learn/arduino/arduino-arduino-serial-communication">http://robotic-controls.com/learn/arduino/arduino-arduino-serial-communication</a></p>

<p><strong>MASTER CODE Example</strong></p>

<pre><code>//Listener code

char value;

void setup() {
  Serial.begin(9600);
}

void loop() {

  if (Serial.available()) {
    delay(100); //allows all serial sent to be received together
    value = Serial.read();
    }

  switch (value){

    case 'I':
        do_idle_function() // função a definir que liga led para confirmar que está a receber serial
        break;

    default
        do_nothing_function()

        break;
  }
}
</code></pre>

<p><strong>CONTROLLER CODE Example</strong></p>

<pre><code>//Sender code

char value;

void setup() {
  Serial.begin(9600);
}

void loop() {
  value='N'; //Valor a activar no Master

  Serial.write(value);
}
</code></pre>

					</div>
				</section>
				</div> <!-- Container -->

				<footer id="footer" class="panel-footer">
					<div class="inner">
						<a href="https://github.com/PhileCMS/Phile">Phile</a> was made by <a href="https://github.com/PhileCMS">The PhileCMS Community</a>.
					</div>
				</footer>
			</div>
		</div>
</div>
		<script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-20725619-1']);
            _gaq.push(['_trackPageview']);
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
		<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo.altlab.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
	</body>
</html>
